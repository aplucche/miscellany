# Miscellaneous Python and D3 scripts for data collection, manipulation and visualization

### Contents

bird_pop.py
    <pre><code>
    Download and format data.gov.uk datasets for d3 visualization
    Usage::
        run in project directory - creates project directories if needed
</code></pre>

generate_readme.py
    <pre><code>
    Generates readme from docstrings in repo.  Docstrings follow format shown
    here
    Usage::
        run in repo directory

</code></pre>



gmail_scraper.py
    <pre><code>
        Writes email contents to seperate files. Can extract unseen emails or
        all.  Settings allow files to be marked as read or remain unmodified and
        for only specified elements to be extracted (e.g. tables)

        Note: Gmail no longer supports using username and password without
        changing security settings - use OAuth instead.

    Usage::
        Set up Oauth credentials if using gmail. Create config file based on
        example below then run
    Example Config::
        -gmail_scraper.ini

        [email_info]
        LOGIN_METHOD: <oauth | password>
        ;use for oauth login
        CLIENT_KEY: <oauth client key>
        CLIENT_SECRET: <oauth client secret>
        REFRESH_TOKEN: <oauth refresh token>
        ;use for password login
        EMAIL_USERNAME: <username>
        EMAIL_PASSWORD: <password>

        [scraper_settings]
        SEARCH_TYPE: <ALL | (UNSEEN)>
        MARK_AS_READ: <True | False>
        ;EXTRACT_ELEMENT Downloads full text if false
        EXTRACT_ELEMENT: <True | False>
        LOGGING: <True | False>
        DOWNLOAD_DIRECTORY: <dir>
    Setting up OAuth credentials for Gmail::
        Client key and secret can be created using google console here:
            https://console.developers.google.com/apis/credentials
        Download Google's OAuth helper file here:
            https://raw.githubusercontent.com/google/
                                    gmail-oauth2-tools/master/python/oauth2.py
        Follow example at https://github.com/google/gmail-oauth2-tools/
                                                    wiki/OAuth2DotPyRunThrough
          to generate refresh token
            1. run:
                python oauth2.py --generate_oauth2_token 
                        --client_id=<client_id> --client_secret=<client_secret>
            2. follow prompts then copy refresh token to ini file

</code></pre>

meetup.py
    <pre><code>
    Collects streaming meetup.com RSVP data.  Writes frequency count of topics 
    that meetup members are RSVPing to by city/state/country.
    Usage::
    	writes to freq_counts.json in directory where script is run
</code></pre>

Pinterest User Scraper
    <pre><code>
    Get links for all Pinterest boards associated with a user.  Uses selenium to
    account for Pinterest's infinite scrolling
    Usage::
        python pinterest_get_links.py https://www.pinterest.com/aboutdotcom/ >> results.txt
</code></pre>

Pinterest Board Metric Scraper
    <pre><code>
    Get metrics for a list of Pinterest boards provided as a text file with
    one board url per line (as generated by pinterest_get_links.py)
    Usage::
        python pinterest_get_metrics.py input_file.txt results.csv
</code></pre>

### Visualizations

[Correlation Between Pollutants and UK Bird Population](http://vis-examples.s3-website-us-east-1.amazonaws.com/)